{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./public/src/js/dossier.js","webpack:///./public/src/js/main.js"],"names":["CONSTANTS","attrName","visibleClass","previous","next","Carousel","elem","carousel","querySelector","intro","nav","dataset","currentslide","slidecount","querySelectorAll","length","addEventListener","event","preventDefault","target","matches","hideIntro","changeSlide","showCarousel","handleDossierNavClick","direction","dossierCarouselNav","hideCarousel","showIntro","goTo","dossierNavigationItem","console","log","slideNumber","translate","style","transform","removeActiveLinks","classList","add","enableButtons","disableButton","button","setAttribute","removeAttribute","remove","document","dossier"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const CONSTANTS = {\n  attrName: 'data-app'\n};\n\nconst visibleClass = 'is-hidden';\nconst previous = 'prev';\nconst next = 'next';\n\nclass Carousel {\n  constructor(elem) {\n    this.elem = elem;\n\n    this.carousel = this.elem.querySelector('[data-dossier-carousel]');\n    this.intro = this.elem.querySelector('[data-dossier-intro]');\n    this.nav = this.elem.querySelector('[data-dossier-navigation]');\n    this.carousel.dataset.currentslide = 0;\n    this.carousel.dataset.slidecount = this.carousel.querySelectorAll('.c-dossier__carousel__item').length;\n\n    this.intro.addEventListener('click', event => {\n      event.preventDefault();\n      if (event.target.matches('.c-btn')) {\n        this.hideIntro();\n        this.changeSlide(+this.carousel.dataset.currentslide);\n        this.showCarousel();\n      }\n    });\n\n    this.nav.addEventListener('click', event => {\n      if (event.target.matches('[data-dossier-navigation-item]')) {\n        this.handleDossierNavClick(event);\n      }\n    });\n\n    this.carousel.addEventListener('click', event => {\n      if (event.target.matches('[data-dossier-navigation-item]')) {\n        this.handleDossierNavClick(event);\n      }\n    });\n\n    this.carousel.addEventListener('click', event => {\n      event.preventDefault();\n      if (event.target.matches('[data-dossier-carousel-nav]')) {\n        const direction = event.target.dataset.dossierCarouselNav;\n\n        if (direction === previous && +this.carousel.dataset.currentslide > 0) {\n          this.changeSlide(+this.carousel.dataset.currentslide - 1);\n        } else if (direction === next && +this.carousel.dataset.currentslide !== +this.carousel.dataset.slidecount - 1) {\n          this.changeSlide(+this.carousel.dataset.currentslide + 1);\n        } else if (direction === previous && +this.carousel.dataset.currentslide === 0) {\n          this.hideCarousel();\n          this.showIntro();\n        }\n      }\n    });\n  }\n\n  handleDossierNavClick(event) {\n    event.preventDefault();\n\n    const goTo = event.target.dataset.dossierNavigationItem;\n\n    console.log(goTo);\n\n    if (goTo === 'intro') {\n      this.showIntro();\n      this.hideCarousel();\n      this.changeSlide(0);\n    } else if (+goTo) {\n      this.hideIntro();\n      this.showCarousel();\n      this.changeSlide(+goTo - 1);\n    }\n  }\n\n  changeSlide(slideNumber) {\n    const translate = slideNumber * 100;\n    this.carousel.querySelector('.c-dossier__carousel__items').style.transform = `translateX(-${translate}%)`;\n    this.carousel.dataset.currentslide = +slideNumber;\n    this.removeActiveLinks();\n    this.nav.querySelector(`.c-dossier__navigation__item:nth-child(${(slideNumber + 2)})`).classList.add('active');\n    this.carousel.querySelector(`.c-dossier__carousel__nav__item:nth-child(${(slideNumber + 1)})`).classList.add('active');\n    if (slideNumber === +this.carousel.dataset.slidecount - 1) {\n      this.enableButtons();\n      this.disableButton(this.carousel.querySelector('[data-dossier-carousel-nav=\"next\"]'));\n    } else {\n      this.enableButtons();\n    }\n  }\n\n  disableButton(button) {\n    button.setAttribute('disabled', '');\n  }\n\n  enableButtons() {\n    if (this.carousel.querySelector('[data-dossier-carousel-nav][disabled]')) {\n      this.carousel.querySelector('[data-dossier-carousel-nav][disabled]').removeAttribute('disabled');\n    }\n  }\n\n  removeActiveLinks() {\n    if (this.nav.querySelector('.c-dossier__navigation__item.active') &&\n      this.carousel.querySelector('.c-dossier__carousel__nav__item.active')) {\n      this.nav.querySelector('.c-dossier__navigation__item.active').classList.remove('active');\n      this.carousel.querySelector('.c-dossier__carousel__nav__item.active').classList.remove('active');\n    }\n  }\n\n  showIntro() {\n    this.intro.classList.remove(visibleClass);\n  }\n\n  hideIntro() {\n    this.intro.classList.add(visibleClass);\n  }\n\n  showCarousel() {\n    this.carousel.classList.remove(visibleClass);\n  }\n\n  hideCarousel() {\n    this.carousel.classList.add(visibleClass);\n  }\n}\n\nexport default () => {\n  const elem = document.querySelector(`[${CONSTANTS.attrName}]`);\n  if (elem) {\n    new Carousel(elem);\n  }\n};\n","import dossier from './dossier';\n\ndossier();\n"],"sourceRoot":""}